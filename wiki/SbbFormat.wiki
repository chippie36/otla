#summary Definición del formato sbb

= Formato fichero sbb =

SBB  (Stream of Binary Blocks)

= Cabecera  y bloques Cabecera2 =


==formato cabecera==

cabecera 

||position||field name|| type||comment||
||0..2 ||sbb_version|| char(3)||always "SB" + version number|| 
||3..7 ||machine|| char(5)||ZX , CPC , MSX||
||8..15 ||extre_info|| char(8)||Ready  ForUses||
||16..31 || name|| char(16)||name||
||24 || caux|| char||RFU||
||25 || origin|| char|| ||
||26 || n_blocks|| char||number of blocks ||
||26 || poke_ffff|| char||msxpagination||
||27..29|| clear || short || clear or SP  || 
||30..31|| n_usr|| short || execution point  ||      
        


==formato bloques==

bloques
||position||field name|| type||comment||
||0..15||blockname|| char (16) ||
||16..17||size|| short ||number of data bytes ||
||18..19||param3|| short || aux parammter ||
||20||block_type|| char|| type||
||21||h_chksum|| char|| checksum for header of block ((ini-1)^jump^exec)  ||
||22..23||ini|| short || start memory address for data ||
||24|jump|| char|| type || 0xC3 or 0xCD block for execuable block||
||25..26||exec|| short || execution address for data if zero non executable||
||27||d_chksum|| char || checksum for data ||
||28..size+28||data || char (size) || memory block||

Atención.El formato que se describe a continuación quedará obsoleto con la proxima version

= Cabecera  y bloques Cabecera2 =


==formato cabecera==

cabecera 

||posición||nombre|| type||
||0..2 ||sbb_version|| char(3)||
||3..7 ||maquina || char(5)||
||8..23 || nombre || char(16)||
||24 || caux|| char||
||25 || tipo|| char||
||26 || n_blocks|| char||
||27..29|| clear || short ||
||30..31|| n_usr|| short ||         
        


==formato bloques==

bloques

||posición||nombre|| type||
||0..15||blockname|| char (16) ||
||16..17||ini|| short ||
||18..19||size|| short ||
||20..21||param3|| short ||
||22..23||exec|| short ||
||24||type|| char||
||25||chksum|| char||
||26..size+28||data || char (size)||